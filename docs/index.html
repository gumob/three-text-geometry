<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>three-text-geometry</title><meta name="description" content="Documentation for three-text-geometry"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">three-text-geometry</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>three-text-geometry</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://badge.fury.io/js/three-text-geometry"><img src="https://img.shields.io/npm/v/three-text-geometry" alt="NPM Version"></a>
<a href="https://github.com/gumob/three-text-geometry/actions/workflows/main.yaml"><img src="https://github.com/gumob/three-text-geometry/actions/workflows/main.yaml/badge.svg" alt="Main"></a>
<a href="https://github.com/gumob/three-text-geometry/actions/workflows/develop.yaml"><img src="https://github.com/gumob/three-text-geometry/actions/workflows/develop.yaml/badge.svg" alt="Develop"></a>
<a href="https://github.com/gumob/three-text-geometry/actions/workflows/github-code-scanning/codeql"><img src="https://github.com/gumob/three-text-geometry/actions/workflows/github-code-scanning/codeql/badge.svg" alt="CodeQL"></a>
<a href="https://codecov.io/gh/gumob/three-text-geometry"><img src="https://codecov.io/gh/gumob/three-text-geometry/branch/main/graph/badge.svg?token=CL35QZ32NY" alt="codecov"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></p>
<a id="md:three-text-geometry" class="tsd-anchor"></a><h1 class="tsd-anchor-link">three-text-geometry<a href="#md:three-text-geometry" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><img src="https://raw.githubusercontent.com/gumob/three-text-geometry/main/README-assets/demo.gif" alt="demo.gif" style="width:1200px;"/>
<p>The port of the JavaScript versions of <a href="https://github.com/Jam3/three-bmfont-text">three-bmfont-text</a>, <a href="https://github.com/Jam3/layout-bmfont-text">layout-bmfont-text</a>, <a href="https://github.com/Jam3/load-bmfont">load-bmfont</a>, and <a href="https://github.com/mattdesl/word-wrapper">word-wrapper</a> to Pure Typescript, this library enables fast text rendering with Three.js and bitmap font.<br/>
The difference in rendering speed is noticeable when animations are enabled, and it runs 10x faster than canvas texture based text rendering.</p>
<a id="md:requirements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Requirements<a href="#md:requirements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>Three.js 0.167.1 or later</li>
<li>Node.js 20.8.1 or later</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:npm" class="tsd-anchor"></a><h3 class="tsd-anchor-link">NPM<a href="#md:npm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">three</span><span class="hl-1">-</span><span class="hl-0">text</span><span class="hl-1">-</span><span class="hl-0">geometry</span>
</code><button>Copy</button></pre>

<a id="md:pnpm" class="tsd-anchor"></a><h3 class="tsd-anchor-link">PNPM<a href="#md:pnpm" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">three</span><span class="hl-1">-</span><span class="hl-0">text</span><span class="hl-1">-</span><span class="hl-0">geometry</span>
</code><button>Copy</button></pre>

<a id="md:yarn" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Yarn<a href="#md:yarn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">three</span><span class="hl-1">-</span><span class="hl-0">text</span><span class="hl-1">-</span><span class="hl-0">geometry</span>
</code><button>Copy</button></pre>

<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For detailed information, read the <a href="https://gumob.github.io/three-text-geometry/">documentation</a> and check the <a href="https://github.com/gumob/three-text-geometry/tree/develop/demo">demo</a>.</p>
<a id="md:how-to-run-the-demo" class="tsd-anchor"></a><h3 class="tsd-anchor-link">How to run the demo<a href="#md:how-to-run-the-demo" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The demo is written in TypeScript using React, so you need to check out the repository and build sources to run the demo app.
The source code for the demo is available <a href="https://github.com/gumob/three-text-geometry/tree/develop/demo">here</a>.</p>
<pre><code><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-0">clone</span><span class="hl-1"> </span><span class="hl-2">https</span><span class="hl-1">:</span><span class="hl-3">//github.com/gumob/three-text-geometry.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-0">three</span><span class="hl-1">-</span><span class="hl-0">text</span><span class="hl-1">-</span><span class="hl-0">geometry</span><span class="hl-1">/</span><span class="hl-0">demo</span><br/><span class="hl-0">corepack</span><span class="hl-1"> </span><span class="hl-0">enable</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-0">install</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-0">dev</span>
</code><button>Copy</button></pre>

<p>Please refer to the <a href="https://github.com/gumob/three-text-geometry/blob/beta/demo/README.md">README.md in the demo directory</a> for more details.</p>
<a id="md:sample-code" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Sample code<a href="#md:sample-code" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ol>
<li>Combine <a href="https://github.com/axios/axios"><code>Axios</code></a> and <a href="https://threejs.org/docs/#api/en/loaders/TextureLoader"><code>THREE.TextureLoader</code></a> to load assets asynchronously.</li>
<li>Instantiate <a href="https://gumob.github.io/three-text-geometry/classes/TextGeometry.html"><code>TextGeometry</code></a> using the loaded <a href="https://gumob.github.io/three-text-geometry/interfaces/BMFont.html"><code>BMFont</code></a> and <a href="https://threejs.org/docs/#api/en/textures/Texture"><code>THREE.Texture</code></a> data.</li>
</ol>
<p><a href="https://gumob.github.io/three-text-geometry/classes/TextGeometry.html"><code>TextGeometry</code></a> supports word wrapping, text aligning, letter spacing, kerning. see <a href="#md:option-list">the list</a> to see how each option works.</p>
<pre><code class="TypeScript"><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-5">*</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-0">THREE</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-0">axios</span><span class="hl-1"> </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;axios&#39;</span><br/><span class="hl-4">import</span><span class="hl-1"> </span><span class="hl-0">TextGeometry</span><span class="hl-1">, { </span><span class="hl-0">BMFont</span><span class="hl-1">, </span><span class="hl-0">BMFontJsonParser</span><span class="hl-1">, </span><span class="hl-0">TextGeometryOption</span><span class="hl-1">, </span><span class="hl-0">TextAlign</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three-text-geometry&#39;</span><br/><br/><span class="hl-5">class</span><span class="hl-1"> </span><span class="hl-7">TextGeometryRenderer</span><span class="hl-1"> </span><span class="hl-5">extends</span><span class="hl-1"> </span><span class="hl-7">React</span><span class="hl-1">.</span><span class="hl-7">Component</span><span class="hl-1"> {</span><br/><br/><span class="hl-1">    </span><span class="hl-0">renderer</span><span class="hl-1">?: </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">WebGLRenderer</span><br/><span class="hl-1">    </span><span class="hl-0">scene</span><span class="hl-1">?: </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Scene</span><br/><span class="hl-1">    </span><span class="hl-0">camera</span><span class="hl-1">?: </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">PerspectiveCamera</span><br/><br/><span class="hl-1">    </span><span class="hl-8">componentDidMount</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">fontUri</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> =</span><br/><span class="hl-1">            </span><span class="hl-6">&#39;https://raw.githubusercontent.com/gumob/three-text-geometry/develop/tests/fonts/OdudoMono-Regular-64.json&#39;</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">textureUri</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> =</span><br/><span class="hl-1">            </span><span class="hl-6">&#39;https://raw.githubusercontent.com/gumob/three-text-geometry/develop/tests/fonts/OdudoMono-Regular-64.png&#39;</span><br/><span class="hl-1">        </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-8">all</span><span class="hl-1">([</span><br/><span class="hl-1">            </span><span class="hl-0">axios</span><span class="hl-1">.</span><span class="hl-8">get</span><span class="hl-1">(</span><span class="hl-0">fontUri</span><span class="hl-1">).</span><span class="hl-8">then</span><span class="hl-1">(</span><span class="hl-0">res</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">BMFontJsonParser</span><span class="hl-1">().</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-0">res</span><span class="hl-1">.</span><span class="hl-0">data</span><span class="hl-1">)), </span><span class="hl-3">/** Load a font */</span><br/><span class="hl-1">            </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">TextureLoader</span><span class="hl-1">().</span><span class="hl-8">loadAsync</span><span class="hl-1">(</span><span class="hl-0">textureUri</span><span class="hl-1">) </span><span class="hl-3">/** Load a texture */</span><br/><span class="hl-1">        ]).</span><span class="hl-8">then</span><span class="hl-1">((</span><span class="hl-0">values</span><span class="hl-1">: [</span><span class="hl-7">BMFont</span><span class="hl-1">, </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><span class="hl-1">]) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><br/><span class="hl-1">            </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">texture</span><span class="hl-1">: </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><br/><span class="hl-1">            </span><span class="hl-0">values</span><span class="hl-1">.</span><span class="hl-8">forEach</span><span class="hl-1">((</span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1"> | </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">                </span><span class="hl-4">if</span><span class="hl-1"> (</span><span class="hl-0">value</span><span class="hl-1"> </span><span class="hl-5">instanceof</span><span class="hl-1"> </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><span class="hl-1">) </span><span class="hl-0">texture</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><br/><span class="hl-1">                </span><span class="hl-4">else</span><span class="hl-1"> </span><span class="hl-0">font</span><span class="hl-1"> = </span><span class="hl-0">value</span><span class="hl-1"> </span><span class="hl-4">as</span><span class="hl-1"> </span><span class="hl-7">BMFont</span><br/><span class="hl-1">            })</span><br/><span class="hl-1">            </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-8">initScene</span><span class="hl-1">(</span><span class="hl-0">font</span><span class="hl-1">, </span><span class="hl-0">texture</span><span class="hl-1">)</span><br/><span class="hl-1">        })</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-8">initScene</span><span class="hl-1">(</span><span class="hl-0">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1">, </span><span class="hl-0">texture</span><span class="hl-1">: </span><span class="hl-7">THREE</span><span class="hl-1">.</span><span class="hl-7">Texture</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-3">/** Renderer */</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">WebGLRenderer</span><span class="hl-1">({ </span><span class="hl-0">alpha:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1">.</span><span class="hl-8">setClearColor</span><span class="hl-1">(</span><span class="hl-10">0x000000</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1">.</span><span class="hl-8">setPixelRatio</span><span class="hl-1">(</span><span class="hl-0">window</span><span class="hl-1">.</span><span class="hl-0">devicePixelRatio</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1">.</span><span class="hl-8">setSize</span><span class="hl-1">(</span><span class="hl-0">window</span><span class="hl-1">.</span><span class="hl-0">innerWidth</span><span class="hl-1">, </span><span class="hl-0">window</span><span class="hl-1">.</span><span class="hl-0">innerHeight</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">container</span><span class="hl-1"> = </span><span class="hl-0">document</span><span class="hl-1">.</span><span class="hl-8">querySelector</span><span class="hl-1">(</span><span class="hl-6">&#39;#demo&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-0">container</span><span class="hl-1">?.</span><span class="hl-8">append</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1">.</span><span class="hl-0">domElement</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-3">/** Scene */</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">scene</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">Scene</span><span class="hl-1">()</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">scene</span><span class="hl-1">.</span><span class="hl-0">background</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">Color</span><span class="hl-1">(</span><span class="hl-10">0x000000</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-3">/** Camera */</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">aspect</span><span class="hl-1"> = </span><span class="hl-0">window</span><span class="hl-1">.</span><span class="hl-0">innerWidth</span><span class="hl-1"> / </span><span class="hl-0">window</span><span class="hl-1">.</span><span class="hl-0">innerHeight</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">camera</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">PerspectiveCamera</span><span class="hl-1">(</span><span class="hl-10">45</span><span class="hl-1">, </span><span class="hl-0">aspect</span><span class="hl-1">, </span><span class="hl-10">1</span><span class="hl-1">, </span><span class="hl-10">100000</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">camera</span><span class="hl-1">.</span><span class="hl-0">position</span><span class="hl-1">.</span><span class="hl-8">set</span><span class="hl-1">(</span><span class="hl-10">1000</span><span class="hl-1">, </span><span class="hl-10">1000</span><span class="hl-1">, </span><span class="hl-10">2000</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">camera</span><span class="hl-1">.</span><span class="hl-8">lookAt</span><span class="hl-1">(</span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">, </span><span class="hl-10">0</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-3">/** Geometry */</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">text</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> = </span><span class="hl-6">&#39;Hollo World.</span><span class="hl-11">\n</span><span class="hl-6">Hello Universe.&#39;</span><span class="hl-1"> </span><span class="hl-3">/** The text to layout. Newline characters `\n` will cause line breaks */</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">textOption</span><span class="hl-1">: </span><span class="hl-7">TextGeometryOption</span><span class="hl-1"> = {</span><br/><span class="hl-1">            </span><span class="hl-0">font:</span><span class="hl-1"> </span><span class="hl-0">font</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">align:</span><span class="hl-1"> </span><span class="hl-0">TextAlign</span><span class="hl-1">.</span><span class="hl-0">Left</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">width:</span><span class="hl-1"> </span><span class="hl-10">1600</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">flipY:</span><span class="hl-1"> </span><span class="hl-0">textures</span><span class="hl-1">.</span><span class="hl-0">flipY</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">multipage:</span><span class="hl-1"> </span><span class="hl-5">false</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">textGeometry</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">TextGeometry</span><span class="hl-1">(</span><span class="hl-0">text</span><span class="hl-1">, </span><span class="hl-0">textOption</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-3">/** Material */</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">textMaterial</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">MeshBasicMaterial</span><span class="hl-1">({</span><br/><span class="hl-1">            </span><span class="hl-0">map:</span><span class="hl-1"> </span><span class="hl-0">texture</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">side:</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-0">DoubleSide</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">transparent:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">            </span><span class="hl-0">color:</span><span class="hl-1"> </span><span class="hl-10">0x666666</span><span class="hl-1">,</span><br/><span class="hl-1">        })</span><br/><br/><span class="hl-1">        </span><span class="hl-3">/** Mesh */</span><br/><span class="hl-1">        </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">mesth</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-9">THREE</span><span class="hl-1">.</span><span class="hl-8">Mesh</span><span class="hl-1">(</span><span class="hl-0">textGeometry</span><span class="hl-1">, </span><span class="hl-0">textMaterial</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-8">rotateY</span><span class="hl-1">(</span><span class="hl-0">Math</span><span class="hl-1">.</span><span class="hl-9">PI</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-8">rotateZ</span><span class="hl-1">(</span><span class="hl-0">Math</span><span class="hl-1">.</span><span class="hl-9">PI</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-8">translateX</span><span class="hl-1">(-</span><span class="hl-0">box</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> / </span><span class="hl-10">2</span><span class="hl-1">)</span><br/><span class="hl-1">            .</span><span class="hl-8">translateY</span><span class="hl-1">(-</span><span class="hl-0">box</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> / </span><span class="hl-10">2</span><span class="hl-1">)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">scene</span><span class="hl-1">!.</span><span class="hl-8">add</span><span class="hl-1">(</span><span class="hl-0">mesth</span><span class="hl-1">)</span><br/><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-8">updateScene</span><span class="hl-1">()</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-8">updateScene</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">renderer</span><span class="hl-1">?.</span><span class="hl-8">render</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">scene</span><span class="hl-1">!, </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">camera</span><span class="hl-1">!)</span><br/><span class="hl-1">        </span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">stats</span><span class="hl-1">?.</span><span class="hl-8">update</span><span class="hl-1">()</span><br/><span class="hl-1">        </span><span class="hl-8">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">.</span><span class="hl-0">updateScene</span><span class="hl-1">.</span><span class="hl-8">bind</span><span class="hl-1">(</span><span class="hl-5">this</span><span class="hl-1">))</span><br/><span class="hl-1">    }</span><br/><br/><span class="hl-1">    </span><span class="hl-8">render</span><span class="hl-1">() {</span><br/><span class="hl-1">        </span><span class="hl-4">return</span><span class="hl-1"> &lt;</span><span class="hl-7">div</span><span class="hl-1"> </span><span class="hl-7">id</span><span class="hl-1">=</span><span class="hl-6">&#39;demo&#39;</span><span class="hl-1">&gt;&lt;/</span><span class="hl-7">div</span><span class="hl-1">&gt;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:screen-coordinate-system-and-threejs-coordinate-system" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Screen coordinate system and Three.js coordinate system<a href="#md:screen-coordinate-system-and-threejs-coordinate-system" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>TextGeometry places text based on the screen coordinate system.
Therefore, when <a href="https://threejs.org/docs/#api/en/objects/Mesh"><code>THREE.Mesh</code></a> is added to the scene, the text will be placed inverted when viewed from the positive direction of the Z axis.
To make the text visible from the positive z-axis, you need apply transformation.</p>
<p><img src="https://raw.githubusercontent.com/gumob/three-text-geometry/main/README-assets/coord-conversion.webp" alt="coord-conversion.webp"></p>
<a id="md:bmfontparser-interface-supports-json-xml-acii-and-binary-fromat" class="tsd-anchor"></a><h4 class="tsd-anchor-link">BMFontParser interface supports JSON, XML, ACII, and Binary fromat<a href="#md:bmfontparser-interface-supports-json-xml-acii-and-binary-fromat" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Parse font data in JSON format</p>
<pre><code class="TypeScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">BMFontJsonParser</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three-text-geometry&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">BMFontJsonParser</span><span class="hl-1">().</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-3">/** `string` or `object` data JSON format */</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Parse font data in XML format</p>
<pre><code class="TypeScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">BMFontXMLParser</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three-text-geometry&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">BMFontXMLParser</span><span class="hl-1">().</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-3">/** `string` data in XML format */</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Parse font data in ASCII format</p>
<pre><code class="TypeScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">BMFontAsciiParser</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three-text-geometry&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">BMFontAsciiParser</span><span class="hl-1">().</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-3">/** `string` data in ASCII format */</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Parse font data in Binary format</p>
<pre><code class="TypeScript"><span class="hl-4">import</span><span class="hl-1"> { </span><span class="hl-0">BMFontBinaryParser</span><span class="hl-1"> } </span><span class="hl-4">from</span><span class="hl-1"> </span><span class="hl-6">&#39;three-text-geometry&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-9">font</span><span class="hl-1">: </span><span class="hl-7">BMFont</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-8">BMFontBinaryParser</span><span class="hl-1">().</span><span class="hl-8">parse</span><span class="hl-1">(</span><span class="hl-3">/** `string` data in ASCII Binary */</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:the-value-list-of-textgeometryoption" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><a name="option-list"></a>The value list of <code>TextGeometryOption</code><a href="#md:the-value-list-of-textgeometryoption" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><!-- prettier-ignore-start -->
<table>
<thead>
<tr>
<th>key</th>
<th style="text-align:center">type</th>
<th>description</th>
<th style="text-align:center">default</th>
<th style="text-align:center">required</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>font</strong></td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/interfaces/BMFont.html"><code>BMFont</code></a></td>
<td>The BMFont definition which holds chars, kernings, etc</td>
<td style="text-align:center">undefined</td>
<td style="text-align:center">✔</td>
</tr>
<tr>
<td><strong>width</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The desired width of the text box, causes word-wrapping and clipping in <a href="https://gumob.github.io/three-text-geometry/enums/WordWrapMode.html"><code>WordWrapMode</code></a> mode. Leave as undefined to remove word-wrapping (default behaviour)</td>
<td style="text-align:center">undefined</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/enums/WordWrapMode.html"><code>WordWrapMode</code></a></td>
<td>A mode for word-wrapper; can be <a href="https://gumob.github.io/three-text-geometry/enums/WordWrapMode.html#Pre"><code>WordWrapMode.Pre</code></a> (maintain spacing), or <a href="https://gumob.github.io/three-text-geometry/enums/WordWrapMode.html#NoWrap"><code>WordWrapMode.NoWrap</code></a> (collapse whitespace but only break on newline characters), otherwise assumes normal word-wrap behaviour (collapse whitespace, break at width or newlines)</td>
<td style="text-align:center">undefined</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>align</strong></td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/enums/TextAlign.html"><code>TextAlign</code></a></td>
<td>This can be <a href="https://gumob.github.io/three-text-geometry/enums/TextAlign.html#Left"><code>TextAlign.left</code></a>, <a href="https://gumob.github.io/three-text-geometry/enums/TextAlign.html#Center"><code>TextAlign.center</code></a> or <a href="https://gumob.github.io/three-text-geometry/enums/TextAlign.html#Right"><code>TextAlign.right</code></a></td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/enums/TextAlign.html#Left"><code>TextAlign.left</code></a></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>letterSpacing</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The letter spacing in pixels</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>lineHeight</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The line height in pixels</td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/interfaces/BMFontCommon.html#lineHeight"><code>font.common.lineHeight</code></a></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>tabSize</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The number of spaces to use in a single tab</td>
<td style="text-align:center">4</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>start</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The starting index into the text to layout</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>end</strong></td>
<td style="text-align:center"><code>number</code></td>
<td>The ending index (exclusive) into the text to layout</td>
<td style="text-align:center"><a href="https://gumob.github.io/three-text-geometry/classes/TextGeometry.html#constructor"><code>text.length</code></a></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>flipY</strong></td>
<td style="text-align:center"><code>boolean</code></td>
<td>Whether the texture will be Y-flipped</td>
<td style="text-align:center">true</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td><strong>multipage</strong></td>
<td style="text-align:center"><code>boolean</code></td>
<td>Whether to construct this geometry with an extra buffer containing page IDs. This is necessary for multi-texture fonts</td>
<td style="text-align:center">false</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<!-- prettier-ignore-end -->
<a id="md:generate-bitmap-font" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Generate Bitmap Font<a href="#md:generate-bitmap-font" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The following tools can be used to convert fonts to a bitmap font:</p>
<ul>
<li><a href="https://msdf-bmfont.donmccurdy.com/">msdf-bmfont-web</a> (Online Tool)</li>
<li><a href="https://github.com/soimy/msdf-bmfont-xml">msdf-bmfont-xml</a> (Commandline Tool)</li>
<li><a href="https://github.com/libgdx/libgdx/wiki/Hiero">Hiero</a> (Desktop App, Windows Only)</li>
</ul>
<p>Read the <a href="https://threejs.org/docs/index.html#manual/en/introduction/Creating-text">Three.js documentation</a> about a bitmap font.</p>
<a id="md:using-msdf-bmfont-xml" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Using msdf-bmfont-xml<a href="#md:using-msdf-bmfont-xml" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Install <a href="https://github.com/soimy/msdf-bmfont-xml">msdf-bmfont-xml</a></p>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">msdf</span><span class="hl-1">-</span><span class="hl-0">bmfont</span><span class="hl-1">-</span><span class="hl-0">xml</span><span class="hl-1"> -</span><span class="hl-0">g</span>
</code><button>Copy</button></pre>

<p>Generate a bitmap font</p>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">msdf</span><span class="hl-1">-</span><span class="hl-0">bmfont</span><span class="hl-1"> \</span><br/><span class="hl-1">    --</span><span class="hl-0">output</span><span class="hl-1">-</span><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-7">json</span><span class="hl-1"> \</span><br/><span class="hl-1">    --filename &#39;OdudoMono-Regular-128&#39; \</span><br/><span class="hl-1">    --font-size 128 \</span><br/><span class="hl-1">    --texture-size 1024,1024 \</span><br/><span class="hl-1">    --field-type &#39;sdf&#39; \</span><br/><span class="hl-1">    &#39;OdudoMono-Regular.otf&#39;</span>
</code><button>Copy</button></pre>

<a id="md:copyright" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Copyright<a href="#md:copyright" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Punycode is released under MIT license, which means you can modify it, redistribute it or use it however you like.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:three-text-geometry"><span>three-<wbr/>text-<wbr/>geometry</span></a><ul><li><a href="#md:requirements"><span>Requirements</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><ul><li><a href="#md:npm"><span>NPM</span></a></li><li><a href="#md:pnpm"><span>PNPM</span></a></li><li><a href="#md:yarn"><span>Yarn</span></a></li></ul></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:how-to-run-the-demo"><span>How to run the demo</span></a></li><li><a href="#md:sample-code"><span>Sample code</span></a></li><li><ul><li><a href="#md:screen-coordinate-system-and-threejs-coordinate-system"><span>Screen coordinate system and <wbr/>Three.js coordinate system</span></a></li><li><a href="#md:bmfontparser-interface-supports-json-xml-acii-and-binary-fromat"><span>BMFont<wbr/>Parser interface supports JSON, XML, ACII, and <wbr/>Binary fromat</span></a></li></ul></li><li><a href="#md:the-value-list-of-textgeometryoption"><span>&lt;a name=&quot;option-<wbr/>list&quot;&gt;&lt;/a&gt;<wbr/>The value list of <wbr/>Text<wbr/>Geometry<wbr/>Option</span></a></li></ul></li><li><a href="#md:generate-bitmap-font"><span>Generate <wbr/>Bitmap <wbr/>Font</span></a></li><li><ul><li><a href="#md:using-msdf-bmfont-xml"><span>Using msdf-<wbr/>bmfont-<wbr/>xml</span></a></li></ul></li><li><a href="#md:copyright"><span>Copyright</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>three-text-geometry</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
